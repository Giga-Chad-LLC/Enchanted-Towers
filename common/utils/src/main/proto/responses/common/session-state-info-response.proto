syntax = "proto3";

option java_package = "enchantedtowers.common.utils.proto.responses";
option java_multiple_files = true;

package response_models;

// responses
import "responses/common/server-error.proto";
// common
import "common/session-info.proto";
import "common/defend-spell-description.proto";


message SessionStateInfoResponse {
  enum ResponseType {
    SESSION_CREATED = 0;
    SESSION_EXPIRED = 1;
    ADD_DEFEND_SPELL = 2;
    REMOVE_DEFEND_SPELL = 3;
  };

  message SessionExpirationInfo {
    // maybe some data in the future (e.g. duration)
  };

  ResponseType type = 1;
  response_models.ServerError error = 2;
  // SESSION_CREATED
  common.SessionInfo session = 3;
  repeated common.DefendSpellDescription activeDefendSpells = 4;
  // SESSION_EXPIRED
  SessionExpirationInfo expiration = 5;
  // ADD|REMOVE_DEFEND_SPELL
  int32 defendSpellId = 6;
};
